<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="app">
        <router-link to="/detail">详情页</router-link>
        <router-view ></router-view>
    </div>
    <template id="detail"></template>
    <script src="./vue.js"></script>
    <script src="./vue-router.js"></script>
    <script>


        let home = {
        template: `<div>HOME<button @click="goTo">去列表</button></div>`,
        methods: {
            goTo(){
                // this.$router.push('/list')
                this.$router.push({name:'list',query:name='lisi'});
                // 对象中的query是路由后面的问号传参
            }
        }
    };
    let detail = {
        template: `<div>DETAIL <router-link to="/detail/profile">个人中心</router-link> <router-link to="/detail/about">关于我们</router-link> 
         <router-view></router-view>   
            </div>`,
        methods:{
            back(){
                this.$router.go(-1); // 返回上一页
            }
        }
    };
    let profile = {
        template: `<div>profile</div>`
    };
    let about = {
        template: `<div>detail</div>`
    }
    let routes = [
        {
        path:'/',    // path是路由
        component: home  // 路由对应的组件
        },
        {
            path : '/home',
            component: home
        },
        {
            name: 'detail' ,
            path : '/detail',
            // 带/的都是一级路由
            component: detail,
            children : [
                {
                    path: 'profile',
                    // 二级路由前面不需要写 /
                    component: profile
                },
                {
                    path : 'about',
                    component: about
                }
            ]
        },
        {
            path: '*', // 除了路由映射表中配置的路由以外的路由都要指定为home
            component: home 
        }
];
// 创建一个Vue-router的实例
let router = new VueRouter({
    routes  
});
let vm = new Vue({
    el : '#app',
    router: router // 配置router属性
});

// 在/detail对应的模板中添加router-view ,嵌套路由需要在子组件模板中添加router-view 
    </script>
</body>
</html>